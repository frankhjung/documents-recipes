#% Do not delete the line below; configure depends on this
#  \DeclareLaTeXClass[scrbook]{book (recipes)}
# Recipe textclass definition file.
# Based upon the CTAN:recipe.cls file, but it is not needed anymore
#   Author of recipe.cls: Maurizio Loreti, aka MLO or (HAM) I3NOO
#   EMail of recipe.cls author:  loreti@padova.infn.it
# Layout created by Sandor Szoke 2004.04.05
# Updated at 2006.12.10.
# Updated at 2008.10.19.
#  - Now use scrbook
#  - better look in LyX
#  - with short title the portion size can be given
# Contact: mailto:alex@lyx.hu
#
# The original instructions:
# The \part, \chapter, \section and \subsection commands
# work as usual; \subsubsection commands are used for
# ``recipes'' as units, and are not numbered but (by
# default) entered in the .toc file.
#
# The recipe (a.k.a. subsubsection header) is typeset in
# a style defined with the command \rechead; the default
# is Large, horizontally centered, bold sans-serif: and
# the user can change that setting with a suitable
# \renewcommand{\rechead} .
#
# If e.g. \section and \subsection commands are not used
# in the text, the large indentation of the \subsubsection
# items in the Table of Contents may be ugly; in that case,
# you should redefine appropriately \l@subsubsection .
# The book.cls definition is:
# \newcommand*\l@subsubsection{\@dottedtocline{3}{7.0em}{4.1em}} ;
# the second parameter (7.0em) is the initial skip, and
# the third (4.1em) is the length for the subsubsection
# number field (if the subsubsections are to be numbered).
# As an example, a redefinition of \l@subsubsection may look
# like:
# \makeatletter
# \renewcommand*\l@subsubsection{\@dottedtocline{3}{3em}{4.1em}}
# \makeatother
#
# A specific command \recipe{...} is defined as an alias
# for a \subsubsection{...} followed by two rules across
# the whole page and by a vertical space.
#
# Another command, \ingred{...}, is defined to typeset a
# list of ingredients (the \ldots) with the italic font,
# inside a ``quote'' environment and  after an ``ingredient
# header'' \inghead---empty by default, and that can be
# redefined by the user with, e.g., a
# \renewcommand{\inghead}{\textbf{Ingredients (4 persons)}:\ }
# (note the trailing space).
#

Format 4
Input scrclass.inc
Input numreport.inc

Sides			1
Sides			2
PageStyle		Headings

# There is no abstract environment in book.cls
NoStyle Abstract

# Global parameters.
SecNumDepth		2
TocDepth		3

Style Chapter
  LabelString		"\thechapter"
End

Style Bibliography
  TopSep		4
  LabelString		"Bibliography"
  LabelFont
    Series		Bold
    Size		Largest
  EndFont
End

Preamble

\setcounter{secnumdepth}{2}	% subsubsections not numbered
\setcounter{tocdepth}{3}	% subsubsections in the .toc file

\newcommand{\rechead}
    {\centering\normalfont\Large\sffamily\bfseries}

\renewcommand{\subsubsection}
    {\@startsection{subsubsection}{3}{\z@}%
    {-5ex\@plus -1ex \@minus -.2ex}%
    {1.5ex \@plus .2ex}%
    {\rechead}}

\newcommand{\recipe}[1]{\subsubsection{#1}%
    \hrule height0.75pt width\hsize\vspace*{1\p@}%
    \hrule height0.25pt width\hsize%
    \nobreak
    \vskip\parskip}

\newcommand{\inghead}[1][]{\large\textbf{Ingredients#1}:}
\newcommand{\ingred}[2][]
    {{\list{}{\rightmargin 1em\leftmargin 1em}%
    \item[]\textit{\inghead[#1]} #2\endlist}%
    \hrule height0.25pt width\hsize}
EndPreamble

Style Recipe
  LatexType		Command
  LatexName		recipe
  Margin		Static
  LeftMargin		Ingredients_for_some:xx
  LabelSep		xx
  LabelType		Static
  LabelString		"Recipe:"
  Align			Center
  LabelFont
    Family		Sans
    Size		Large
    Series		Bold
    Shape		Italic
    Color		red
  EndFont
End

# Subsubsection style definition
Style Subsubsection
  LatexType		Command
  LatexName		subsubsection
  ParSkip		0.4
  TopSep		0.9
  BottomSep		0.5
  ParSep		0.5
  Align			Block
  AlignPossible		Block
  Font
    Size		Small
  EndFont
End

# Inghead style definition
Style Ingredients
  LatexType		Command
  LatexName		ingred
  OptionalArgs		1
  Margin		Static
  LeftMargin		Ingredients_for_some:xx
  LabelSep		xx
  Align			Left
  AlignPossible		Left, Block
  LabelType		Static
  LabelString		"Ingredients:"
  LabelFont
    Series		Bold
    Shape		Italic
    Color		red
  EndFont
  Preamble
   \renewcommand*\l@subsubsection{\@dottedtocline{3}{3em}{0em}}
   \setlength\parindent{0pt}
   \setlength\parskip{2ex plus 0.5ex}
  EndPreamble
End
